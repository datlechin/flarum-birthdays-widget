(()=>{var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const r=flarum.core.compat["forum/app"];var o=t.n(r);const n=flarum.core.compat["extensions/afrux-forum-widgets-core/common/extend/Widgets"];var a=t.n(n);function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}const s=flarum.core.compat["common/components/LoadingIndicator"];var c=t.n(s);const d=flarum.core.compat["common/components/Tooltip"];var u=t.n(d);const l=flarum.core.compat["common/components/Link"];var f=t.n(l);const p=flarum.core.compat["common/helpers/avatar"];var h=t.n(p);const y=flarum.core.compat["extensions/afrux-forum-widgets-core/common/components/Widget"];var b=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,i(e,r);var a=n.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.birthdays=[],this.load()},a.className=function(){return"BirthdaysWidget"},a.icon=function(){return"fas fa-birthday-cake"},a.title=function(){return o().translator.trans("datlechin-birthdays-widget.forum.widget.title")},a.content=function(){return this.loading?m(c(),null):m("div",{className:"Datlechin-BirthdaysWidget-users"},this.birthdays.map((function(t){return m("div",{className:"Datlechin-BirthdaysWidget-users-item"},m("div",{className:"Datlechin-BirthdaysWidget-users-item-avatar"},m(u(),{text:t.displayName()},m(f(),{href:o().route.user(t)},h()(t)))),m("div",{className:"Datlechin-BirthdaysWidget-users-item-name"},m(f(),{href:o().route.user(t)},t.displayName())))})),m("div",{className:"Datlechin-BirthdaysWidget-more"},m(f(),{href:o().route("birthdays")},o().translator.trans("datlechin-birthdays-widget.forum.widget.more_label"))))},a.load=function(){var t=this,e=(new Date).toISOString().slice(0,10);o().store.find("users",{filter:{birthday:e},page:{limit:o().forum.attribute("datlechin-birthdays-widget.maxUsers")}}).then((function(e){t.setResults(e)}))},a.setResults=function(t){this.birthdays=t,this.loading=!1,m.redraw()},n}(t.n(y)());o().initializers.add("datlechin/flarum-birthdays-widget",(function(){var t;t=o(),(new(a())).add({key:"birthdays",component:b,isDisabled:!1,isUnique:!0,placement:"end",position:1}).extend(t,"datlechin-birthdays-widget")}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map